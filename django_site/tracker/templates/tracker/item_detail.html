{% extends "tracker/base.html" %}
{% block title %}{{ item.name }} â€” TF Tracker{% endblock %}
{% block content %}
<div class="actions">
  <a href="{% url 'tracker:item-list' %}" class="btn secondary">Back</a>
  <a href="{% url 'tracker:item-edit' item.pk %}" class="btn">Edit</a>
</div>

<h2>{{ item.name }}</h2>
<div class="detail-grid">
  <div><strong>Company:</strong> {{ item.company.name|default_if_none:"" }}</div>
  <div><strong>Line:</strong> {{ item.line.name|default_if_none:"" }}</div>
  <div><strong>Series:</strong> {{ item.series.name|default_if_none:"" }}</div>
  <div><strong>SKU:</strong> {{ item.sku|default_if_none:"" }}</div>
  <div><strong>Version:</strong> {{ item.version|default_if_none:"" }}</div>
  <div><strong>Year:</strong> {{ item.year|default_if_none:"" }}</div>
  <div><strong>Scale:</strong> {{ item.scale|default_if_none:"" }}</div>
  <div><strong>Condition:</strong> {{ item.condition|default_if_none:"" }}</div>
  <div><strong>Status:</strong> {{ item.status|default_if_none:"" }}</div>
  <div><strong>Location:</strong> {{ item.location|default_if_none:"" }}</div>
  <div><strong>URL:</strong>
    {% if item.url %}
      <a href="{{ item.url }}" target="_blank" rel="noopener">Link</a>
    {% endif %}
  </div>
  <div><strong>Type:</strong> {{ item.type.name|default_if_none:"" }}</div>
  <div><strong>Category:</strong> {{ item.category.name|default_if_none:"" }}</div>

  <div class="full">
    <strong>Characters:</strong>
    {% if characters %}
      <ul>
      {% for character in characters %}
        <li>
          {{ character.name }}{% if character.is_primary %} <strong>(Primary)</strong>{% endif %}
        </li>
      {% endfor %}
      </ul>
    {% else %}
      <em>None</em>
    {% endif %}
  </div>
  <div class="full"><strong>Notes:</strong> {{ item.notes|default_if_none:"" }}</div>
</div>

<form method="post" action="{% url 'tracker:item-delete' item.pk %}" onsubmit="return confirm('Delete this item?');">
  {% csrf_token %}
  <button class="btn danger" type="submit">Delete</button>
</form>
{% endblock %}
